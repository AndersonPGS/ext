{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"Get Discord Token","options":{"check_for_updates":true,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_arrayleft":false,"compat_uW_gmonkey":false,"compat_forvarin":false,"noframes":null,"awareOfChrome":false,"run_at":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["https://discord.com/activ*","https://discord.com/channel*"],"merge_matches":true,"use_excludes":["/(^https:\\/\\/discord\\.com(:[0-9]{1,5})?\\/activ.*$)/"],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-start","orig_noframes":null,"orig_connects":[]}},"storage":{"ts":1605473368183,"data":{}},"enabled":true,"position":1,"file_url":"https://discordapp.com/channel*","uuid":"5de20187-6c6a-41d1-b2b7-cf4151086809","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICBHZXQgRGlzY29yZCBUb2tlbgovLyBAbmFtZXNwYWNlICAgIGh0dHA6Ly90YW1wZXJtb25rZXkubmV0LwovLyBAdmVyc2lvbiAgICAgIDAuMwovLyBAZGVzY3JpcHRpb24gIEFsbG93cyB5b3UgdG8gcmV0cmlldmUgeW91ciB1c2VyIHRva2VuIGZvciByZWZlcmVuY2UuCi8vIEBhdXRob3IgICAgICAgQnJlbmRhbiM0Njk4Ci8vIEBtYXRjaCAgICAgICAgaHR0cHM6Ly9kaXNjb3JkLmNvbS9hY3RpdioKLy8gQG1hdGNoICAgICAgICBodHRwczovL2Rpc2NvcmQuY29tL2NoYW5uZWwqCi8vIEBncmFudCAgICAgICAgbm9uZQovLyBAcnVuLWF0ICAgICAgIGRvY3VtZW50LXN0YXJ0Ci8vID09L1VzZXJTY3JpcHQ9PQoKKGZ1bmN0aW9uICgpIHsKICAgJ3VzZSBzdHJpY3QnOwoKICAgLy8gaW1wbGltZW50IGxvY2Fsc3RvcmFnZSBiZWhhdmlvciB1c2luZyBjb29raWUKICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgaWYoIXdpbmRvdy5sb2NhbFN0b3JhZ2UpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgImxvY2FsU3RvcmFnZSIsIG5ldyhmdW5jdGlvbiAoKSB7CiAgICAgICAgIHZhciBhS2V5cyA9IFtdLAogICAgICAgICAgICBvU3RvcmFnZSA9IHt9OwogICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob1N0b3JhZ2UsICJnZXRJdGVtIiwgewogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKHNLZXkpIHsKICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNbc0tleV0gPyB0aGlzW3NLZXldIDogbnVsbDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLAogICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICAgICB9KTsKICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9TdG9yYWdlLCAia2V5IiwgewogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKG5LZXlJZCkgewogICAgICAgICAgICAgICByZXR1cm4gYUtleXNbbktleUlkXTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLAogICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICAgICB9KTsKICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9TdG9yYWdlLCAic2V0SXRlbSIsIHsKICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChzS2V5LCBzVmFsdWUpIHsKICAgICAgICAgICAgICAgaWYoIXNLZXkpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGVzY2FwZShzS2V5KSArICI9IiArIGVzY2FwZShzVmFsdWUpICsgIjsgZXhwaXJlcz1UdWUsIDE5IEphbiAyMDM4IDAzOjE0OjA3IEdNVDsgcGF0aD0vIjsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLAogICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICAgICB9KTsKICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9TdG9yYWdlLCAibGVuZ3RoIiwgewogICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgcmV0dXJuIGFLZXlzLmxlbmd0aDsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgICAgICAgfSk7CiAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvU3RvcmFnZSwgInJlbW92ZUl0ZW0iLCB7CiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoc0tleSkgewogICAgICAgICAgICAgICBpZighc0tleSkgewogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gZXNjYXBlKHNLZXkpICsgIj07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQ7IHBhdGg9LyI7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgICAgICAgfSk7CiAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvU3RvcmFnZSwgImNsZWFyIiwgewogICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICBpZighYUtleXMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICBmb3IodmFyIHNLZXkgaW4gYUtleXMpIHsKICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gZXNjYXBlKHNLZXkpICsgIj07IGV4cGlyZXM9VGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVQ7IHBhdGg9LyI7CiAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLAogICAgICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICAgICB9KTsKICAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciBpVGhpc0luZHg7CiAgICAgICAgICAgIGZvcih2YXIgc0tleSBpbiBvU3RvcmFnZSkgewogICAgICAgICAgICAgICBpVGhpc0luZHggPSBhS2V5cy5pbmRleE9mKHNLZXkpOwogICAgICAgICAgICAgICBpZihpVGhpc0luZHggPT09IC0xKSB7CiAgICAgICAgICAgICAgICAgIG9TdG9yYWdlLnNldEl0ZW0oc0tleSwgb1N0b3JhZ2Vbc0tleV0pOwogICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBhS2V5cy5zcGxpY2UoaVRoaXNJbmR4LCAxKTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICBkZWxldGUgb1N0b3JhZ2Vbc0tleV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yKGFLZXlzOyBhS2V5cy5sZW5ndGggPiAwOyBhS2V5cy5zcGxpY2UoMCwgMSkpIHsKICAgICAgICAgICAgICAgb1N0b3JhZ2UucmVtb3ZlSXRlbShhS2V5c1swXSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yKHZhciBhQ291cGxlLCBpS2V5LCBuSWR4ID0gMCwgYUNvdXBsZXMgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoL1xzKjtccyovKTsgbklkeCA8IGFDb3VwbGVzLmxlbmd0aDsgbklkeCsrKSB7CiAgICAgICAgICAgICAgIGFDb3VwbGUgPSBhQ291cGxlc1tuSWR4XS5zcGxpdCgvXHMqPVxzKi8pOwogICAgICAgICAgICAgICBpZihhQ291cGxlLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgb1N0b3JhZ2VbaUtleSA9IHVuZXNjYXBlKGFDb3VwbGVbMF0pXSA9IHVuZXNjYXBlKGFDb3VwbGVbMV0pOwogICAgICAgICAgICAgICAgICBhS2V5cy5wdXNoKGlLZXkpOwogICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIG9TdG9yYWdlOwogICAgICAgICB9OwogICAgICAgICB0aGlzLmNvbmZpZ3VyYWJsZSA9IGZhbHNlOwogICAgICAgICB0aGlzLmVudW1lcmFibGUgPSB0cnVlOwogICAgICB9KSgpKTsKICAgfQogICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAgdmFyIHVzZXJUb2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwoKICAgdmFyIHdhcm4gPSAiQWxsb3dpbmcgYW55b25lIHRvIHNlZSB5b3VyIHRva2VuIGNhbiByZXN1bHQgaW4gdGhlbSBnYWluaW5nIGFjY2VzcyB0byB5b3VyIGFjY291bnQuIFRoaXMgY2FuIGxlYWQgdG8gaW1wZXJzb25hdGlvbiwgc2VydmVyIGJhbnMsIGFjY291bnQgY2xvc3VyZSwgZXRjLlxuXG5cblxuIElmIHlvdSBkbyBub3QgdW5kZXJzdGFuZCB0aGlzLCBwcmVzcyAnQ2FuY2VsJy4iCgogICAvLyBzaG93IHdhcm5pbmcsIGlmIGFjY2VwdGVkIHNob3cgdG9rZW4KICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGV2ZW50ID0+IHsKICAgICAgaWYoZXZlbnQudGFyZ2V0LnJlYWR5U3RhdGUgPT09ICJpbnRlcmFjdGl2ZSIpIHt9IGVsc2UgaWYoZXZlbnQudGFyZ2V0LnJlYWR5U3RhdGUgPT09ICJjb21wbGV0ZSIpIHsKICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmKGNvbmZpcm0od2FybikpIHsKICAgICAgICAgICAgICAgcHJvbXB0KCJZb3VyIHRva2VuOiIsIHVzZXJUb2tlbikKICAgICAgICAgICAgfQogICAgICAgICB9LCAzMDAwKTsKICAgICAgfQogICB9KTsKCiAgIC8vIHByZXZlbnQgcGFzdGluZyB0b2tlbiBpbnRvIGRpc2NvcmQKICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFzdGUnLCBmdW5jdGlvbiAoZSkgewogICAgICBpZihlLmNsaXBib2FyZERhdGEuZ2V0RGF0YSgndGV4dC9wbGFpbicpID09IHVzZXJUb2tlbikgewogICAgICAgICAvLyBjbGVhciBjbGlwYm9hcmQKICAgICAgICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoJ3RleHQvcGxhaW4nLCAnZG8gbm90IHBvc3QgeW91ciB0b2tlbiBoZXJlJyk7CiAgICAgICAgIC8vIHByZXZlbnQgdGhlIGRlZmF1bHQgcGFzdGUgYWN0aW9uCiAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgLy8gcHJldmVudCBwYXN0aW5nIHRva2VuLCBwYXN0ZSB3YXJuaW5nIGluc3RlYWQKICAgICAgICAgdmFyIHBhc3RlVG9rZW4gPSBuZXcgQ2xpcGJvYXJkRXZlbnQoJ3Bhc3RlJyk7CiAgICAgICAgIHBhc3RlVG9rZW4uY2xpcGJvYXJkRGF0YS5pdGVtcy5hZGQoJ2RvIG5vdCBwb3N0IHlvdXIgdG9rZW4gaGVyZScsICd0ZXh0L3BsYWluJyk7CiAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQocGFzdGVUb2tlbik7CiAgICAgICAgIC8vIHB1dCB0b2tlbiBiYWNrIGludG8gY2xpcGJvYXJkIHRvIGFsbG93IHBhc3Rpbmcgb3V0c2lkZSBkaXNjb3JkCiAgICAgICAgIGUuY2xpcGJvYXJkRGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgdXNlclRva2VuKTsKICAgICAgfQogICB9KTsKfSkoKTs="}]}